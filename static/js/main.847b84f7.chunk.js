(window["webpackJsonpmeal-tracking-app"]=window["webpackJsonpmeal-tracking-app"]||[]).push([[0],{23:function(e,n,t){e.exports=t(44)},28:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(5),o=t.n(l),c=(t(28),t(15)),i=t(16),u=t(21),s=t(17),d=t(22),m=t(6),p="ADD_RECIPE",f="REMOVE_FROM_CALENDAR";function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"!==typeof e?"":e[0].toUpperCase()+e.slice(1)}var y=t(7),v=t(11),b=t.n(v),E=t(20),g=t.n(E),O="f05a671e",k="39e13e1b97d23d4143694831f78735f1";function N(e){var n=e.food,t=e.onSelect;return 0===n.length?r.a.createElement("p",null,"Your search has 0 results."):r.a.createElement("ul",{className:"food-list"},n.map((function(e){return r.a.createElement("li",{onClick:function(){return t(e)},key:e.label},r.a.createElement("h3",null,(n=e.label).length>16?n.slice(0,16)+"...":n),r.a.createElement("img",{src:e.image,alt:e.label}),r.a.createElement("div",null,Math.floor(e.calories)," Calories"),r.a.createElement("div",null,e.source));var n})))}function j(e){var n=e.list;return r.a.createElement("div",{className:"ingredients-list"},r.a.createElement("h3",{className:"subheader"},"Your Shopping List"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e},e)}))))}var w=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={foodModalOpen:!1,meal:null,day:null,food:null,ingredientsModalOpen:!1,loadingFood:!1},t.openFoodModal=function(e){var n=e.meal,a=e.day;t.setState((function(){return{foodModalOpen:!0,meal:n,day:a}}))},t.closeFoodModal=function(){t.setState((function(){return{foodModalOpen:!1,meal:null,day:null,food:null}}))},t.searchFood=function(e){t.input.value&&(e.preventDefault(),t.setState((function(){return{loadingFood:!0}})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.trim(),fetch("https://api.edamam.com/search?q=".concat(e,"&app_id=").concat(O,"&app_key=").concat(k)).then((function(e){return e.json()})).then((function(e){return e.hits.map((function(e){return e.recipe}))}))}(t.input.value).then((function(e){return t.setState((function(){return{food:e,loadingFood:!1}}))})))},t.openIngredientsModal=function(){return t.setState((function(){return{ingredientsModalOpen:!0}}))},t.closeIngredientsModal=function(){return t.setState((function(){return{ingredientsModalOpen:!1}}))},t.generateShoppingList=function(){return t.props.calendar.reduce((function(e,n){var t=n.meals,a=t.breakfast,r=t.lunch,l=t.dinner;return a&&e.push(a),r&&e.push(r),l&&e.push(l),e}),[]).reduce((function(e,n){var t=n.ingredientLines;return e.concat(t)}),[])},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.foodModalOpen,a=n.loadingFood,l=n.food,o=n.ingredientsModalOpen,c=this.props,i=c.calendar,u=c.selectRecipe,s=c.remove,d=["breakfast","lunch","dinner"];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav"},r.a.createElement("h1",{className:"header"},"Track Your Meal :)"),r.a.createElement("button",{className:"shopping-list",onClick:this.openIngredientsModal},"Shopping List")),r.a.createElement("ul",{className:"meal-types"},d.map((function(e){return r.a.createElement("li",{key:e,className:"subheader"},h(e))}))),r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"days"},i.map((function(e){var n=e.day;return r.a.createElement("h3",{key:n,className:"subheader"},h(n))}))),r.a.createElement("div",{className:"icon-grid"},i.map((function(n){var t=n.day,a=n.meals;return r.a.createElement("ul",{key:t},d.map((function(n){return r.a.createElement("li",{key:n,className:"meal"},a[n]?r.a.createElement("div",{className:"food-item"},r.a.createElement("img",{src:a[n].image,alt:a[n].label}),r.a.createElement("button",{onClick:function(){return s({meal:n,day:t})}},"Clear")):r.a.createElement("button",{onClick:function(){return e.openFoodModal({meal:n,day:t})},className:"icon-btn"},r.a.createElement(y.b,{size:30})))})))})))),r.a.createElement(b.a,{className:"modal",overlayClassName:"overlay",isOpen:t,onRequestClose:this.closeFoodModal,contentLabel:"Modal"},r.a.createElement("div",null,!0===a?r.a.createElement(g.a,{delay:200,type:"spin",color:"#222",className:"loading"}):r.a.createElement("div",{className:"search-container"},r.a.createElement("h3",{className:"subheader"},"Find a meal for ",h(this.state.day)," ",this.state.meal,"."),r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"food-input",type:"text",placeholder:"Search Foods",ref:function(n){return e.input=n}}),r.a.createElement("button",{className:"icon-btn",onClick:this.searchFood},r.a.createElement(y.a,{size:30}))),null!==l&&r.a.createElement(N,{food:l,onSelect:function(n){u({recipe:n,day:e.state.day,meal:e.state.meal}),e.closeFoodModal()}})))),r.a.createElement(b.a,{className:"modal",overlayClassName:"overlay",isOpen:o,onRequestClose:this.closeIngredientsModal,contentLabel:"Modal"},o&&r.a.createElement(j,{list:this.generateShoppingList()})))}}]),n}(a.Component);var M=Object(m.b)((function(e){var n=e.food,t=e.calendar;return{calendar:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].map((function(e){return{day:e,meals:Object.keys(t[e]).reduce((function(a,r){return a[r]=t[e][r]?n[t[e][r]]:null,a}),{})}}))}}),(function(e){return{selectRecipe:function(n){return e(function(e){var n=e.day;return{type:"ADD_RECIPE",recipe:e.recipe,day:n,meal:e.meal}}(n))},remove:function(n){return e(function(e){var n=e.day,t=e.meal;return{type:f,day:n,meal:t}}(n))}}}))(w);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=t(3),C=t(4);function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(t,!0).forEach((function(n){Object(C.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var D={sunday:{breakfast:null,lunch:null,dinner:null},monday:{breakfast:null,lunch:null,dinner:null},tuesday:{breakfast:null,lunch:null,dinner:null},wednesday:{breakfast:null,lunch:null,dinner:null},thursday:{breakfast:null,lunch:null,dinner:null},friday:{breakfast:null,lunch:null,dinner:null},saturday:{breakfast:null,lunch:null,dinner:null}};var P=Object(S.c)({food:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p:var t=n.recipe;return _({},e,Object(C.a)({},t.label,t));default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,n=arguments.length>1?arguments[1]:void 0,t=n.day,a=n.recipe,r=n.meal;switch(n.type){case p:return _({},e,Object(C.a)({},t,_({},e[t],Object(C.a)({},r,a.label))));case f:return _({},e,Object(C.a)({},t,_({},e[t],Object(C.a)({},r,null))));default:return e}}}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,L=Object(S.e)(P,R(Object(S.a)((function(e){return function(n){return function(t){console.group(t.type),console.info("dispatching",t);var a=n(t);return console.log("next state",e.getState()),console.groupEnd(t.type),a}}}))));o.a.render(r.a.createElement(m.a,{store:L},r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.847b84f7.chunk.js.map